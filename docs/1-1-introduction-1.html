<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta property="og:title" content="Lines are models" />
<meta property="og:type" content="book" />


<meta property="og:description" content="This is a web complement to MATH 341 (Linear Models), a first regression course for EPFL mathematicians." />
<meta name="github-repo" content="lbelzile/LinesRModels" />

<meta name="author" content="Léo Belzile" />


<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>

<meta name="description" content="This is a web complement to MATH 341 (Linear Models), a first regression course for EPFL mathematicians.">

<title>Lines are models</title>

<script src="libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="libs/navigation-1.1/tabsets.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<link rel="stylesheet" href="css/style.css" type="text/css" />
<link rel="stylesheet" href="css/toc.css" type="text/css" />

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
</style>
</head>

<body>

<div class="container-fluid main-container">


<div class="row">
<div class="col-sm-12">
<div id="TOC">
<ul>
<li><a href="index.html#introduction">Introduction</a></li>
<li class="has-sub"><a href="1-section.html#section"><span class="toc-section-number">1</span> </a><ul>
<li class="has-sub"><a href="1-1-introduction-1.html#introduction-1"><span class="toc-section-number">1.1</span> Introduction</a><ul>
<li><a href="1-1-introduction-1.html#packages"><span class="toc-section-number">1.1.1</span> Packages</a></li>
<li><a href="1-1-introduction-1.html#basics-of-r"><span class="toc-section-number">1.1.2</span> Basics of <strong>R</strong></a></li>
<li><a href="1-1-introduction-1.html#linear-algebra-in-r"><span class="toc-section-number">1.1.3</span> Linear algebra in <strong>R</strong></a></li>
</ul></li>
<li class="has-sub"><a href="1-2-week1.html#week1"><span class="toc-section-number">1.2</span> Tutorial 1</a><ul>
<li><a href="1-2-week1.html#data-sets"><span class="toc-section-number">1.2.1</span> Data sets</a></li>
<li><a href="1-2-week1.html#graphics"><span class="toc-section-number">1.2.2</span> Graphics</a></li>
<li><a href="1-2-week1.html#projection-matrices"><span class="toc-section-number">1.2.3</span> Projection matrices</a></li>
<li><a href="1-2-week1.html#your-turn">Your turn</a></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-sm-12">
<div id="introduction-1" class="section level2">
<h2><span class="header-section-number">1.1</span> Introduction</h2>
<p>Since <strong>R</strong> is not a conventional programming language, my teaching approach will be learning-by-doing. The benefit of using <em>Rmarkdown</em> is that you see the output directly and you can also copy the code.</p>
<p>Help can be accessed via <code>help</code> or simply <code>?</code>. If you do not know what to query, use <code>??</code> in front of a string, delimited by captions <code>&quot; &quot;</code> as in <code>??&quot;Cholesky decomposition&quot;</code>. Help is your best friend if you don’t know what a function does, what are its arguments, etc.</p>
<div id="packages" class="section level3">
<h3><span class="header-section-number">1.1.1</span> Packages</h3>
<p>The great strength of <strong>R</strong> comes from its contributed libraries (called packages), which contain functions and datasets provided by third parties. Some of these (<code>base</code>, <code>stats</code>, <code>graphics</code>, etc.) are loaded by default whenever you open a session.</p>
<p>To install a package from CRAN, use <code>install.packages(&quot;package&quot;)</code>, replacing <code>package</code> by the package name. Once installed, packages can be loaded using <code>library(package)</code>; all the functions in <code>package</code> will be available in the environment. The drawback of this approach is that, if a function from another package is already present with the same name, it will be overriden. To palliate to this, you can use the <code>::</code> syntax to access a single function from an installed package, following the model <code>package::function</code>.</p>
</div>
<div id="basics-of-r" class="section level3">
<h3><span class="header-section-number">1.1.2</span> Basics of <strong>R</strong></h3>
<p>You can find several introductions to <strong>R</strong> online. Have a look at the <a href="https://cran.r-project.org/manuals.html"><strong>R</strong> manuals</a> or better at <a href="https://cran.r-project.org/other-docs.html">contributed manuals</a>. A nice official reference is <a href="http://colinfay.me/intro-to-r/index.html">*An introduction to <strong>R</strong></a>. You may wish to look up the following chapters of the <strong>R</strong> language definition (<a href="http://colinfay.me/r-language-definition/evaluation-of-expressions.html">Evaluation of expressions</a> and part of the <a href="http://colinfay.me/r-language-definition/objects.html"><em>Objects</em> chapter</a>).</p>
<p>Basic <strong>R</strong> commands are fairly intuitive, especially if you want to use your <strong>R</strong> as a calculator. Elementary functions such as <code>sum</code>, <code>min</code>, <code>max</code>, <code>sqrt</code>, <code>log</code>, <code>exp</code>, etc., are self-explanatory.</p>
<ul>
<li>Use <code>&lt;-</code> to assign to a variable, and <code>=</code> for matching arguments inside functions</li>
<li>Indexing in <strong>R</strong> starts at 1, <strong>not</strong> zero.</li>
<li>Most functions in <strong>R</strong> are vectorized, so avoid loops as much as possible.</li>
<li>Integers are obtained by appending <code>L</code> to the number, so <code>2L</code> is an integer and <code>2</code> a double.</li>
</ul>
<p>Besides integers and doubles, the common types are - logicals (<code>TRUE</code> and <code>FALSE</code>); - null pointers (<code>NULL</code>), which can be assigned to arguments; - missing values, namely <code>NA</code> or <code>NaN</code>. These can also be obtained a result of invalid mathematical operations such as <code>log(-2)</code>.</p>
<p>The above illustrates a caveat of <strong>R</strong>: invalid calls will often returns <em>something</em> rather than an error. It is therefore good practice to check that the output is sensical.</p>
</div>
<div id="linear-algebra-in-r" class="section level3">
<h3><span class="header-section-number">1.1.3</span> Linear algebra in <strong>R</strong></h3>
<p><strong>R</strong> is an object oriented language, and the basic elements in <strong>R</strong> are (column) vector. Below is a glossary with some useful commands for performing basic manipulation of vectors and matrix operations:</p>
<ul>
<li><code>c</code> creates a vector</li>
<li><code>cbind</code> (<code>rbind</code>) binds column (row) vectors</li>
<li><code>matrix</code> and <code>vector</code> are constructors</li>
<li><code>diag</code> creates a diagonal matrix (by default with ones)</li>
<li><code>t</code> is the function for transpose</li>
<li><code>solve</code> performs matrix inversion</li>
<li><code>%*%</code> is matrix multiplication, <code>*</code> is element-wise multiplication</li>
<li><code>crossprod</code> <code>crossprod(A, B)</code> calculates the cross-product, <code>t(A) %*% B</code> of two matrices <code>A</code> and <code>B</code></li>
<li><code>eigen</code>/<code>chol</code>/<code>qr</code> perform respectively an eigendecomposition/Cholesky/QR decomposition of a matrix</li>
<li><code>rep</code> creates a vector of duplicates, <code>seq</code> a sequence. For integers <span class="math inline">\(i\)</span>, <span class="math inline">\(j\)</span> with <span class="math inline">\(i&lt;j\)</span>, <code>i:j</code> generates the sequence <span class="math inline">\(i, i+1, \ldots, j-1, j\)</span>.</li>
</ul>
<p>Subsetting is fairly intuitive and general; you can use vectors, logical statements. For example, if <code>x</code> is a vector, then</p>
<ul>
<li><code>x[2]</code> returns the second element</li>
<li><code>x[-2]</code> returns all but the second element</li>
<li><code>x[1:5]</code> returns the first five elements</li>
<li><code>x[(length(x) - 5):length(x)]</code> returns the last five elements</li>
<li><code>x[c(1, 2, 4)]</code> returns the first, second and fourth element</li>
<li><code>x[x &gt; 3]</code> return any element greater than 3. Possibly an empty vector of length zero!</li>
<li><code>x[ x &lt; -2 | x &gt; 2]</code> multiple logical conditions.</li>
<li><code>which(x == max(x))</code> index of elements satisfying a logical condition.</li>
</ul>
<p>For a matrix <code>x</code>, subsetting now involves dimensions: <code>[1,2]</code> returns the element in the first row, second column. <code>x[,2]</code> will return all of the rows, but only the second column. For lists, you can use <code>[[</code> for subsetting by index or the <code>$</code> sign by names.</p>
</div>
</div>
<p style="text-align: center;">
<a href="1-section.html"><button class="btn btn-default">Previous</button></a>
<a href="1-2-week1.html"><button class="btn btn-default">Next</button></a>
</p>
</div>
</div>


</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});

</script>

</body>
</html>
